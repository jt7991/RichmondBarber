---
import { Image } from "astro:assets";
import logo from "../assets/BARBERSHOP2.webp";
---

<Image
  src={logo}
  alt="Richmond barbershop logo"
  class="min-w-80 w-2/3 md:w-1/2 lg:w-1/3 max-w-lg mb-8 opacity-0 scale-75 transition-all duration-700 ease-in-out"
  loading="eager"
  id="logo"
/>

<script>
  const logo: HTMLImageElement | null = document.querySelector("#logo");

  const fadeInLogo = () => {
    if (logo) {
      logo.classList.add("opacity-100");
      logo.classList.add("scale-100");
    }
  };

  if (logo && logo.complete) {
    setTimeout(() => {
      fadeInLogo();
    }, 100);
  } else if (logo) {
    logo.addEventListener("load", fadeInLogo);
  }
</script>

<noscript>
  <style>
    #logo {
      opacity: 1;
      scale: 100%;
    }
  </style>
</noscript>
